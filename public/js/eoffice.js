$(function () {
var surat_surat_keluar_konsep_table=$("#surat-surat-keluar-konsep-data-table").DataTable({processing:!0,serverSide:!0,responsive:!0,searching:!1,paging:!1,info:!1,ajax:route_surat_surat_keluar_konsep_index,columns:[{data:"DT_RowIndex",name:"DT_RowIndex",width:"1%"},{data:"status",name:"status"},{data:"id_user",name:"id_user"},{data:"id_arahan_surat",name:"id_arahan_surat"},{data:"id_surat_masuk",name:"id_surat_masuk"},{data:"id_jenis_dokumen",name:"id_jenis_dokumen"},{data:"nomor_surat",name:"nomor_surat"},{data:"tanggal_surat",name:"tanggal_surat"},{data:"kepada",name:"kepada"},{data:"perihal",name:"perihal"},{data:"lampiran",name:"lampiran"},{data:"alamat",name:"alamat"},{data:"kota_penandatangan",name:"kota_penandatangan"},{data:"jabatan_penandatangan",name:"jabatan_penandatangan"},{data:"isi_surat",name:"isi_surat"},{data:"id_sifat_keamanan_surat",name:"id_sifat_keamanan_surat"},{data:"id_sifat_penyelesaian_surat",name:"id_sifat_penyelesaian_surat"},{data:"tanggal_mulai",name:"tanggal_mulai"},{data:"tanggal_selesai",name:"tanggal_selesai"},{data:"mulai_pukul",name:"mulai_pukul"},{data:"selesai_pukul",name:"selesai_pukul"},{name:"action",width:"5%",data:null,orderable:!1,searchable:!1,render:function(a,t,s,r){return btn=`<a href="javascript:void(0)" data-toggle="tooltip" data-id="${a.id}" data-original-title="Edit" class="edit btn btn-outline-primary btn-sm btn-surat-surat-keluar-konsep-edit">Ubah</a>`,btn}}]});$("body").on("click",".btn-surat-surat-keluar-konsep-create",function(){reset_form_data("#surat-surat-keluar-konsep-form"),$("#surat-surat-keluar-konsep-model-heading").html("Tambah baru surat keluar konsep"),$("#btn-surat-surat-keluar-konsep-save").val("Simpan surat keluar konsep"),$("#surat-surat-keluar-konsep-ajax-modal").modal("show")}),$("body").on("click",".btn-surat-surat-keluar-konsep-edit",function(){reset_form_data("#surat-surat-keluar-konsep-form");var a=$(this).data("id"),t="#surat-surat-keluar-konsep-form";$.get(`${route_surat_surat_keluar_konsep_index}/${a}/edit`,function(a){$("#surat-surat-keluar-konsep-model-heading").html("Ubah surat keluar konsep"),$("#btn-surat-surat-keluar-konsep-save").val("Simpan surat keluar konsep"),$("#surat-surat-keluar-konsep-ajax-modal").modal("show"),$("#surat-surat-keluar-konsep-id",t).val(a.id),$("#surat-surat-keluar-konsep-status",t).val(a.status),$("#surat-surat-keluar-konsep-id_user",t).val(a.id_user),$("#surat-surat-keluar-konsep-id_arahan_surat"+a.id_arahan_surat,t).prop("checked",!0),$("#surat-surat-keluar-konsep-id_surat_masuk",t).val(a.id_surat_masuk),$("#surat-surat-keluar-konsep-id_jenis_dokumen"+a.id_jenis_dokumen,t).prop("checked",!0),$("#surat-surat-keluar-konsep-nomor_surat",t).val(a.nomor_surat),$("#surat-surat-keluar-konsep-kepada",t).val(a.kepada),$("#surat-surat-keluar-konsep-perihal",t).val(a.perihal),$("#surat-surat-keluar-konsep-lampiran",t).val(a.lampiran),$("#surat-surat-keluar-konsep-alamat",t).val(a.alamat),$("#surat-surat-keluar-konsep-kota_penandatangan",t).val(a.kota_penandatangan),$("#surat-surat-keluar-konsep-jabatan_penandatangan",t).val(a.jabatan_penandatangan),$("#surat-surat-keluar-konsep-id_sifat_keamanan_surat"+a.id_sifat_keamanan_surat,t).prop("checked",!0),$("#surat-surat-keluar-konsep-id_sifat_penyelesaian_surat"+a.id_sifat_penyelesaian_surat,t).prop("checked",!0)})}),$("body").on("click","#btn-surat-surat-keluar-konsep-save",function(a){if(a.preventDefault(),!confirm("Apakah Anda yakin akan mengirim data?"))return!1;$(this).html("Proses pengiriman data .."),$(".invalid-feedback").html(""),$(".invalid-feedback").hide(),$.ajax({data:$("#surat-surat-keluar-konsep-form").serialize(),url:route_surat_surat_keluar_konsep_store,type:"POST",dataType:"json",success:function(a){a.errors?($.each(a.errors,function(a,t){$("#surat-surat-keluar-konsep-"+a+" + div").html(t)}),$(".invalid-feedback").show(),toastr.error("Silahkan cek kembali pengisian data Anda.","Data gagal disimpan")):($("#surat-surat-keluar-konsep-ajax-modal").modal("hide"),surat_surat_keluar_konsep_table.draw(),toastr.success("Penyimpanan data surat keluar berhasil disimpan.","Data berhasil disimpan.")),$("#btn-surat-surat-keluar-konsep-save").html("Simpan perubahan")},error:function(a){$("#btn-surat-surat-keluar-konsep-save").html("Simpan perubahan"),toastr.error("Silahkan cek ulang data/koneksi jaringan Anda.","Data gagal disimpan")}})}),$("body").on("click",".btn-surat-surat-keluar-konsep-delete",function(){var a=$(this).data("id");if(!confirm("Apakah Anda yakin akan menghapus data?"))return!1;$.ajax({type:"DELETE",url:`${route_surat_surat_keluar_konsep_index}/${a}`,success:function(a){surat_surat_keluar_konsep_table.draw()},error:function(a){console.log("Error:",a)}})});var surat_surat_masuk_table=$("#surat-surat-masuk-data-table").DataTable({processing:!0,serverSide:!0,responsive:!0,searching:!1,paging:!1,info:!1,ajax:route_surat_surat_masuk_index,columns:[{data:"DT_RowIndex",name:"DT_RowIndex",width:"1%"},{data:"asal_surat_masuk",name:"asal_surat_masuk"},{data:"pejabat_pengirim_surat",name:"pejabat_pengirim_surat"},{data:"nomor_surat",name:"nomor_surat"},{data:"tanggal_surat",name:"tanggal_surat"},{data:"kepada",name:"kepada"},{data:"perihal",name:"perihal"},{data:"id_sifat_keamanan_surat",name:"id_sifat_keamanan_surat"},{data:"id_sifat_penyelesaian_surat",name:"id_sifat_penyelesaian_surat"},{data:"tenggat_waktu_tindak_lanjut",name:"tenggat_waktu_tindak_lanjut"},{data:"mulai_pukul",name:"mulai_pukul"},{data:"selesai_pukul",name:"selesai_pukul"},{data:"nomor_agenda",name:"nomor_agenda"},{data:"tanggal_agenda",name:"tanggal_agenda"},{data:"id_asal_ekspedisi_surat_masuk",name:"id_asal_ekspedisi_surat_masuk"},{data:"email_pengirim",name:"email_pengirim"},{data:"alamat_pengirim",name:"alamat_pengirim"},{data:"id_arahan_surat",name:"id_arahan_surat"},{data:"id_jenis_surat_masuk",name:"id_jenis_surat_masuk"},{data:"meta",name:"meta"},{data:null,name:"action",width:"5%",orderable:!1,searchable:!1,render:function(a,t,s,r){return btn=`<a href="javascript:void(0)" data-toggle="tooltip" data-id="${a.id}" data-original-title="Edit" class="edit btn btn-outline-primary btn-sm btn-surat-surat-masuk-edit">Ubah</a>`,btn}}]});$("body").on("click","#btn-surat-surat-masuk-create",function(){reset_form_data("#surat-surat-masuk-form"),$("#surat-surat-masuk-model-heading").html("Tambah baru surat masuk"),$("#btn-surat-surat-masuk-save").val("Simpan surat masuk"),$("#surat-surat-masuk-ajax-modal").modal("show")}),$("body").on("click",".btn-surat-surat-masuk-edit",function(){reset_form_data("#surat-surat-masuk-form");var a=$(this).data("id"),t="#surat-surat-masuk-form";$.get(`${route_surat_surat_masuk_index}/${a}/edit`,function(a){$("#surat-surat-masuk-model-heading").html("Ubah surat masuk"),$("#btn-surat-surat-masuk-save").val("Simpan surat masuk"),$("#surat-surat-masuk-ajax-modal").modal("show"),$("#surat-surat-masuk-id",t).val(a.id),$("#surat-surat-masuk-asal_surat_masuk",t).val(a.asal_surat_masuk),$("#surat-surat-masuk-pejabat_pengirim_surat",t).val(a.pejabat_pengirim_surat),$("#surat-surat-masuk-nomor_surat",t).val(a.nomor_surat),$("#surat-surat-masuk-kepada",t).val(a.kepada),$("#surat-surat-masuk-perihal",t).val(a.perihal),$("#surat-surat-masuk-id_sifat_keamanan_surat"+a.id_sifat_keamanan_surat,t).prop("checked",!0),$("#surat-surat-masuk-id_sifat_penyelesaian_surat"+a.id_sifat_penyelesaian_surat,t).prop("checked",!0),$("#surat-surat-masuk-nomor_agenda",t).val(a.nomor_agenda),$("#surat-surat-masuk-id_asal_ekspedisi_surat_masuk"+a.id_asal_ekspedisi_surat_masuk,t).prop("checked",!0),$("#surat-surat-masuk-email_pengirim",t).val(a.email_pengirim),$("#surat-surat-masuk-alamat_pengirim",t).val(a.alamat_pengirim),$("#surat-surat-masuk-id_arahan_surat"+a.id_arahan_surat,t).prop("checked",!0),$("#surat-surat-masuk-id_jenis_surat_masuk"+a.id_jenis_surat_masuk,t).prop("checked",!0),$("#surat-surat-masuk-meta",t).val(a.meta)})}),$("body").on("click","#btn-surat-surat-masuk-save",function(a){if(a.preventDefault(),!confirm("Apakah Anda yakin akan mengirim data?"))return!1;$(this).html("Proses pengiriman data .."),$(".invalid-feedback").html(""),$(".invalid-feedback").hide(),$.ajax({data:$("#surat-surat-masuk-form").serialize(),url:route_surat_surat_masuk_store,type:"POST",dataType:"json",success:function(a){a.errors?($.each(a.errors,function(a,t){$("#surat-surat-keluar-konsep-"+a+" + div").html(t)}),$(".invalid-feedback").show(),toastr.error("Silahkan cek kembali pengisian data Anda.","Data gagal disimpan")):($("#surat-surat-masuk-ajax-modal").modal("hide"),surat_surat_masuk_table.draw(),toastr.success("Penyimpanan data surat keluar berhasil disimpan.","Data berhasil disimpan.")),$("#btn-surat-surat-masuk-save").html("Simpan perubahan")},error:function(a){$("#btn-surat-surat-masuk-save").html("Simpan perubahan"),toastr.error("Silahkan cek ulang data/koneksi jaringan Anda.","Data gagal disimpan")}})}),$("body").on("click",".btn-surat-surat-masuk-delete",function(){var a=$(this).data("id");if(!confirm("Apakah Anda yakin akan menghapus data?"))return!1;$.ajax({type:"DELETE",url:`${route_surat_surat_masuk_index}/${a}`,success:function(a){surat_surat_masuk_table.draw()},error:function(a){console.log("Error:",a)}})});
});
